---
title: "ã€ABC392ã€‘ABC392ã‚’Rubyã§è§£ã„ãŸçµæœæ°´ãƒ‘ãƒ•ã‚©ãŒå‡ºãŸã®ã§æŒ¯ã‚Šè¿”ã‚Šã¾ã™ã€AtCoderã€‘"
emoji: "ğŸ”¥"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["ruby", "ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ", "AtCoder", "ç«¶æŠ€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°"]
published: true
---
### ABC392 ã®å‚åŠ ã—ã¾ã—ãŸã®ã§ãã®æ„Ÿæƒ³ã‚’
ã“ã®åº¦ ABC392 ã«å‚åŠ ã—ãŸçµæœãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒæ°´ãƒ‘ãƒ•ã‚© (1277) ã ã£ãŸã®ã§è¨˜å¿µã«æŒ¯ã‚Šè¿”ã‚Šã¾ã™
çµæœã¨ã—ã¦ã¯ 70 åˆ†ãƒãƒ¼ãƒšãƒŠã®5å®Œã§ã—ãŸ
Eå•é¡Œã‚’ã‚³ãƒ³ãƒ†ã‚¹ãƒˆä¸­ã«è§£ã„ãŸã®ã¯ã“ã‚ŒãŒåˆã‚ã¦ã ã£ãŸã®ã§æœ¬å½“ã«ã†ã‚Œã—ã„ã§ã™
https://atcoder.jp/contests/abc392/submissions?f.User=yoto1980yen

Unratedã ã£ãŸã®ã§å¬‰ã—ã•åŠæ¸›
ãƒ©ã‚¤ãƒãƒ«è¦–ã—ã¦ã„ã‚‹äººãŸã¡ã¯ã¿ã‚“ãªEå•é¡Œã‚’è§£ã‘ã¦ãªã‹ã£ãŸã®ã§å¬‰ã—ã•å€å¢—
### A - [Shuffled Equation](https://atcoder.jp/contests/abc392/tasks/abc392_a) 100ç‚¹
3 ã¤ã®æ•°å­—ãŒä¸ãˆã‚‰ã‚Œã‚‹ã®ã§ä¸¦ã³å¤‰ãˆã¦ A * B = C ã¨ã„ã†å½¢ã«ä½œã‚Œã‚‹ã‹ã¨ã„ã†å•é¡Œ
#### è§£ãæ–¹
åˆ¶ç´„ã‚’è¦‹ã‚‹ã¨ 1 ã‹ã‚‰ 100 ã¾ã§ãªã®ã§æ›ã‘ãŸç­”ãˆãŒ 3 ã¤ã®æ•°å­—ã®ã†ã¡æœ€ã‚‚å¤§ãã„æ•°ã«ãªã‚‹ã“ã¨ãŒç´„æŸã•ã‚Œã¾ã™
ãã®ãŸã‚ä¸ãˆã‚‰ã‚ŒãŸæ•°å­—ã‚’ã‚½ãƒ¼ãƒˆã—ã¦æ˜‡é †ã« A * B = C ã®å½¢ã«ãªã‚‹ã‹ã‚’ç¢ºèªã™ã‚Œã°è§£ã‘ã¾ã™
#### [ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰](https://atcoder.jp/contests/abc392/submissions/62586624)
```ruby
a, b, c = gets.chomp.split(" ").map(&:to_i).sort # å…¥åŠ›ã‚’æ˜‡é †ã«ã‚½ãƒ¼ãƒˆ
if a * b == c
    puts "Yes"
else
    puts "No"
end
```

### B - [Who is Missing?](https://atcoder.jp/contests/abc392/tasks/abc392_b) 200ç‚¹
1 ã‹ã‚‰ N ã¾ã§ã®æ•°å­—ã®ã†ã¡ M ã®æ•´æ•°åˆ—ã«å«ã¾ã‚Œãªã„ã‚‚ã®ã‚’æ˜‡é †ã§å‡ºåŠ›ã™ã‚‹ã‚‚ã®
#### è§£ãæ–¹
1 ã‹ã‚‰ N ã¾ã§ãƒ«ãƒ¼ãƒ—ã§å›ã— M ã®æ•´æ•°åˆ—ã«å«ã¾ã‚Œã¦ã„ãŸã‚‰è§£ç­”ã«è¿½åŠ ã›ãšã€å«ã¾ã‚Œã¦ã„ãªã‘ã‚Œã°è§£ç­”ã«è¿½åŠ ã—ã¦ã„ãã ã‘
ãŸã ã€ä»Šå›è‡ªåˆ†ã¯é›£ã—ãè€ƒãˆã¦ãŠã‚Š M ã‚’ã‚½ãƒ¼ãƒˆã—ã¦å…ˆé ­ã®ã‚‚ã®ã¨ä¸€è‡´ã—ã¦ã„ã‚Œã°è§£ç­”ã«å«ã‚ãš M ã®æ•´æ•°åˆ—ã‹ã‚‰å¤–ã™æ§˜ã«å¯¾å¿œã—ã¾ã—ãŸ
ä¸€å¿œã“ã‚Œã§ã‚ã‚Œã° M ãŒ 2 * 10 ** 5 å€‹ã‚ã£ã¦ã‚‚è§£ã‘ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ãŒä»Šå›ã®åˆ¶ç´„ã¯ 1000 å€‹ãªã®ã§ M ã®æ•´æ•°åˆ—ã«å«ã¾ã‚Œã‚‹ã‹ã§åˆ¤æ–­ã™ã‚Œã°ã‚ˆã‹ã£ãŸã§ã™
#### ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
```ruby
n, m = gets.chomp.split(" ").map(&:to_i)
ans = []
a = gets.chomp.split(" ").map(&:to_i).sort # Mã®æ•´æ•°åˆ—ã‚’æ˜‡é †ã«ã‚½ãƒ¼ãƒˆ
n.times do |i|
    if a.first == i + 1 # Mã®æ•´æ•°åˆ—ã®å…ˆé ­ã«ä¸€è‡´ã™ã‚‹å ´åˆã¯ç­”ãˆã«è¿½åŠ ã—ãªã„
        a.shift # Mã®å…ˆé ­ã®è¦ç´ ã‚’é™¤å¤–ã™ã‚‹
    else # Mã®æ•´æ•°åˆ—ã®å…ˆé ­ã«ä¸€è‡´ã—ãªã„å ´åˆã¯ç­”ãˆã«è¿½åŠ ã™ã‚‹
        ans << i + 1
    end
end
# ç­”ãˆã‚’å‡ºåŠ›
puts ans.size
puts ans.join(" ")
```
### C - [Bib](https://atcoder.jp/contests/abc392/tasks/abc392_c) 300ç‚¹
ã¾ãšæ„Ÿæƒ³ã‚’è¨€ã†ã¨ä½•ã‚’è¨€ã£ã¦ã„ã‚‹ã®ã‹ã‚ã‹ã‚‰ãªã„å•é¡Œã§ã—ãŸ
`i ãŒæ›¸ã‹ã‚ŒãŸã‚¼ãƒƒã‚±ãƒ³ã‚’ç€ã‘ã¦ã„ã‚‹äººãŒè¦‹ã¤ã‚ã¦ã„ã‚‹äººã®ç€ã‘ã¦ã„ã‚‹ã‚¼ãƒƒã‚±ãƒ³ã«ã‹ã‹ã‚Œã¦ã„ã‚‹æ•°ã‚’ã€i=1,2,â€¦,N ã®ãã‚Œãã‚Œã«ã¤ã„ã¦æ±‚ã‚ã¦ãã ã•ã„ã€‚`
ã“ã®æ–‡ç« ã‚’ç†è§£ã™ã‚‹ã®ã«5åˆ†ã‹ã‹ã‚Šã¾ã—ãŸ

ç†è§£ã—ãŸå¾Œã ã¨ã‚ã‹ã‚Šã¾ã™ãŒé€£æƒ³é…åˆ—ã‚’ä½¿ã£ã¦è§£ãåˆæ­©çš„ãªå•é¡Œã§ã—ãŸ
ã‚¼ãƒƒã‚±ãƒ³i ã‚’ç€ã¦ã„ã‚‹äººãŒè¦‹ã¦ã„ã‚‹äººã‚’ãƒ«ãƒ¼ãƒ—ã§æ¢ã™ã¨ TLE(Time Limit Exceeded) ã«ãªã£ã¦ã—ã¾ã†ã®ã§é€£æƒ³é…åˆ—ã‚’ä½¿ã„å®Ÿè¡Œæ™‚é–“ã‚’æ¸›ã‚‰ã™å¿…è¦ãŒã‚ã‚Šã¾ã™

#### è§£ãæ–¹
ã‚¼ãƒƒã‚±ãƒ³ i ã‚’ key ã«ã€ã‚¼ãƒƒã‚±ãƒ³ i ã‚’ç€ã¦ã„ã‚‹äººãŒè¦‹ã¦ã„ã‚‹äººã‚’ valueã¨ã—ã¦é€£æƒ³é…åˆ—ã‚’ä½œæˆã—ã¾ã™
ãã®å¾Œ 1 ã‹ã‚‰ N ã¾ã§ã‚’keyã¨ã—ã¦é€£æƒ³é…åˆ—ã‹ã‚‰ value ã‚’å–å¾—ã—ã€å¾—ã‚‰ã‚ŒãŸã‚¼ãƒƒã‚±ãƒ³ (value) ã‚’ç€ã¦ã„ã‚‹äººã‚’å‡ºåŠ›ã—ã¾ã™
ã“ã“ã¾ã§æ›¸ã„ã¦ã¦è‡ªåˆ†ã§ã‚‚ä½•ã‚’è¨€ã£ã¦ã„ã‚‹ã®ã‹ã‚ã‹ã‚‰ãªããªã£ã¦ã¾ã™ã®ã§ãœã²è§£ã„ã¦ã¿ã¦ãã ã•ã„

#### ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
```ruby
n = gets.chomp.to_i
p = gets.chomp.split(" ").map(&:to_i)
q = gets.chomp.split(" ").map(&:to_i)
map = {}
n.times do |i| # é€£æƒ³é…åˆ—ã‚’ä½œæˆ
    map[q[i]] = p[i]
end
ans = []
n.times do |i| # ã‚¼ãƒƒã‚±ãƒ³ã‚’1ã‹ã‚‰Nã¾ã§ç€ã¦ã„ã‚‹äººãŒè¦‹ã¦ã„ã‚‹äººã®ã‚¼ãƒƒã‚±ãƒ³ã‚’ç­”ãˆã«æ ¼ç´
    ans << q[map[i + 1] - 1]
end
puts ans.join(" ") # ç­”ãˆã‚’ç©ºç™½åŒºåˆ‡ã‚Šã§å‡ºåŠ›
```
### D - [Doubles](https://atcoder.jp/contests/abc392/tasks/abc392_d) 400ç‚¹
100å€‹ã®ã‚µã‚¤ã‚³ãƒ­ãŒã‚ã‚Šã€ã“ã®å†…2ã¤ã®ã‚µã‚¤ã‚³ãƒ­ã‚’æŒ¯ã‚Šå‡ºç›®ãŒãã‚ã†æœ€ã‚‚é«˜ã„å ´åˆã®ç¢ºç‡ã‚’å‡ºåŠ›ã™ã‚‹å•é¡Œ
ã“ã‚Œã‚’æ±‚ã‚ã‚‹ã«ã¯å…¨ãƒ‘ã‚¿ãƒ¼ãƒ³ (100 C 2) ã‚’è©¦ã™å¿…è¦ãŒã‚ã‚Šå®Ÿè¡Œæ™‚é–“ã¨ã®å‹è² ã«ãªã‚Šãã†ã§ã™
#### è§£ãæ–¹
ã¾ãšã¯å®Ÿè¡Œæ™‚é–“ã®å‰Šæ¸›ã®ãŸã‚ã«ã‚µã‚¤ã‚³ãƒ­ã®å‡ºç›®ã®å€¤ã®æŒã¡æ–¹ã‚’å·¥å¤«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
é¢ã®æ•°ã¨å„å‡ºç›®ã«ã¤ã„ã¦ã¯åˆ†ã‘ã¦ç®¡ç†ã—ã¾ã™
å¤§äº‹ãªã®ãŒå‡ºç›®ã®ç®¡ç†æ–¹æ³•ã§ key ã‚’å‡ºç›®ã€value ã‚’ãã®å‡ºç›®ã®å€‹æ•°ã¨ã—ã¦é€£æƒ³é…åˆ—ã‚’ä½œæˆã—ã¾ã™
ã“ã‚Œã«ã‚ˆã‚Šç‰¹å®šã®å‡ºç›®ã®å€‹æ•°ã‚’ O(1) ã§å–å¾—å‡ºæ¥ã¾ã™

æ¯”ã¹ã‚‹å¯¾è±¡ã®ã‚µã‚¤ã‚³ãƒ­ã®ã†ã¡ 1 ã¤ã®ã‚µã‚¤ã‚³ãƒ­ã«å«ã¾ã‚Œã‚‹å‡ºç›®ã®ç¨®é¡ã‚’ Set ã«ä¿å­˜ã—ã¦ãŠãã¾ã™
ã‚‚ã† 1 ã¤ã®ã‚µã‚¤ã‚³ãƒ­ã®å‡ºç›®ãŒ Set ã«å«ã¾ã‚Œã‚‹ã‹ç¢ºèªã—å«ã¾ã‚Œã¦ã„ãŸã‚‰ list ã«æ ¼ç´ã—ã¦ãŠãã¾ã™
ã“ã‚Œã§ list ã«ã¯ä¸¡æ–¹ã®ã‚µã‚¤ã‚³ãƒ­ã«å«ã¾ã‚Œã‚‹å‡ºç›®ãŒæ ¼ç´ã•ã‚Œã¾ã™
ã‚ã¨ã¯ã“ã®å‡ºç›®ã”ã¨ã«æƒã†ç¢ºç‡ã‚’è¨ˆç®—ã—å…¨ã¦è¶³ã™ã“ã¨ã§ã•ã„ã“ã‚ã®å‡ºç›®ãŒæƒã†ç¢ºç‡ãŒæ±‚ã¾ã‚Šã¾ã™
```ruby
list.each do |å‡ºç›®|
    ans += ã‚µã‚¤ã‚³ãƒ­Aã®å‡ºç›®ã®å€‹æ•° / ã‚µã‚¤ã‚³ãƒ­Aã®é¢ã®æ•° * ã‚µã‚¤ã‚³ãƒ­Bã®å‡ºç›®ã®å€‹æ•° / ã‚µã‚¤ã‚³ãƒ­Bã®é¢ã®æ•°
end
```
ã“ã‚Œã‚’å…¨ãƒ‘ã‚¿ãƒ¼ãƒ³è©¦ã—ã‚‚ã£ã¨ã‚‚ç¢ºç‡ãŒé«˜ã„ã‚‚ã®ã‚’å‡ºåŠ›ã™ã‚‹äº‹ã§è§£ã‘ã¾ã™
ã“ã‚Œã§ã‚‚ Ruby ã ã¨ 1200 ms ã ã£ãŸã®ã§çµæ§‹ã‚®ãƒªã‚®ãƒªã§ã™
 
#### ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
```ruby
def main
    n = gets.chomp.to_i
    dice = []
    size = []
    n.times do |i|
        k = gets.chomp.split(" ").map(&:to_i)
        size << k.shift # é¢ã®æ•°ã¯åˆ¥é€”ç®¡ç†ã™ã‚‹
        dice << grouping(k.sort) # keyã‚’å‡ºç›®ã€valueã‚’ãã®å‡ºç›®ã®å€‹æ•°ã¨ã—ã¦é€£æƒ³é…åˆ—ã§ä½œæˆ
    end
    ans = 0
    (0...n).each do |i|
        set = Set.new
        dice[i].each do |deme| # ã‚µã‚¤ã‚³ãƒ­iã®å‡ºç›®ã‚’ Set ã«ä¿å­˜ã™ã‚‹
            set << deme.first
        end
        ((i+1)...n).each do |j|
            nowans = 0.to_f
            list = []
            dice[j].each do |deme|  # ã‚µã‚¤ã‚³ãƒ­jã®å‡ºç›®ãŒã‚µã‚¤ã‚³ãƒ­iã®å‡ºç›®ã«å«ã¾ã‚Œã¦ã„ãŸã‚‰ list ã«ä¿å­˜ã™ã‚‹
                list << deme.first if set.include?(deme.first)
            end
            list.each do |deme| # å‡ºç›®ã”ã¨ã«å‡ºã‚‹ç¢ºç‡ã‚’è¨ˆç®—
                nowans += dice[i][deme].to_f / size[i].to_f * dice[j][deme].to_f / size[j].to_f
            end
            ans = [ans, nowans].max # å‡ºç›®ãŒæƒã†ç¢ºç‡ãŒé«˜ã‘ã‚Œã°ç­”ãˆã‚’æ›´æ–°ã™ã‚‹ã™ã‚‹
        end
    end
    puts ans
end

def grouping(ary)
    a = ary.slice_when { |a, b| a != b }.to_a
    map = {}
    a.each do |i|
        map[i.first] = i.size
    end
    return map
end
main
```

### E - [Cables and Servers](https://atcoder.jp/contests/abc392/tasks/abc392_e) 450ç‚¹
å•é¡Œæ–‡ã‚’è¦‹ãŸç¬é–“çµ¶å¯¾UnionFindã˜ã‚ƒã‚“ã£ã¦ãªã‚Šã¾ã—ãŸ
è‡ªåˆ†ã§ã‚‚è¡Œã‘ã‚‹ã‹ã‚‚ã¨æ€ã„è§£ãã¾ã—ãŸ

é–‰è©±ä¼‘é¡Œ

N å€‹ã®ã‚µãƒ¼ãƒãƒ¼ãŒã‚ã‚ŠMæœ¬ã®ã‚±ãƒ¼ãƒ–ãƒ«ãŒç¹‹ãŒã£ã¦ã¾ã™
ã‚±ãƒ¼ãƒ–ãƒ«ã‚’ç¹‹ãå¤‰ãˆã¦ã™ã¹ã¦ã®ã‚µãƒ¼ãƒãƒ¼åŒå£«ãŒã‚±ãƒ¼ãƒ–ãƒ«ã‚’ä»‹ã—ã¦ç¹‹ãŒã‚‹ã‚ˆã†ã«ã™ã‚‹å•é¡Œ
ãŸã ã‚±ãƒ¼ãƒ–ãƒ«ã‚’ç¹‹ãå¤‰ãˆã‚‹ã®ã§ã¯ãªãå‡ºæ¥ã‚‹ã ã‘å°‘ãªã„å›æ•°ã§ç¹‹ãå¤‰ãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
#### è§£ãæ–¹
UnionFindä¸€æŠã§ã™
ã¾ãšã‚±ãƒ¼ãƒ–ãƒ«ã‚’é€£çµã—ã¦è¡Œãã¾ã™
ã“ã®éš›åŒã˜è¦ªåŒå£«ã ã£ãŸå ´åˆã¯ã‚¹ãƒšã‚¢ã®ã‚±ãƒ¼ãƒ–ãƒ«ã¨ã—ã¦ä¿æŒã—ã¦ãŠãé€£çµã—ã¾ã›ã‚“

æ¬¡ã«è¦ªã®ç¨®é¡ã‚’ Set ã«ç”¨æ„ã—ã¦ãŠãã€ã‚¹ãƒšã‚¢ã®ã‚±ãƒ¼ãƒ–ãƒ«ã‚’ãƒ«ãƒ¼ãƒ—ã§å›ã—ç¹‹ãå¤‰ãˆã¦ã„ãã¾ã™

Set ã‚’ãƒ«ãƒ¼ãƒ—ã§å›ã—ã‚±ãƒ¼ãƒ–ãƒ«ã®è¦ªã§ã¯ãªã„è¦ªã‚’æ¢ã—ã¾ã™
ç•°ãªã‚‹è¦ªã‚’è¦‹ã¤ã‘ãŸã‚‰ã‚±ãƒ¼ãƒ–ãƒ«ã‚’ç¹‹ãå¤‰ãˆ Set ã‹ã‚‰ã¤ãªã’ãŸè¦ªã‚’å‰Šé™¤ã—ã¾ã™
ã“ã‚Œã‚’ Set ã®è¦ç´ æ•°ãŒ 1 (å…¨ã¦ã®è¦ªãŒåŒã˜)ã«ãªã‚‹ã¾ã§ç¹°ã‚Šè¿”ã™ã“ã¨ã§è§£ã‘ã¾ã™
#### ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
```ruby
def main
    n, m = gets.chomp.split(" ").map(&:to_i)
    uf = UnionFind.new(n)
    spare = []
    m.times do |i| # Mæœ¬ã®ã‚±ãƒ¼ãƒ–ãƒ«ã‚’é€£çµã™ã‚‹
        a,b = gets.chomp.split(" ").map(&:to_i)
        if uf.same_parent?(a - 1, b - 1) # è¦ªãŒåŒã˜å ´åˆã¯ã‚±ãƒ¼ãƒ–ãƒ«ã‚’é€£çµã™ã‚‹å¿…è¦ãŒãªã„ã®ã§ã‚¹ãƒšã‚¢ã«ã™ã‚‹
            spare << [i + 1, a,b]
        else # è¦ªãŒç•°ãªã‚‹å ´åˆã¯é€£çµã™ã‚‹
            uf.unite(a - 1, b - 1)
        end
    end
    if uf.size == 1 # å…¨ã¦ã®è¦ªãŒåŒã˜å ´åˆã¯ã‚±ãƒ¼ãƒ–ãƒ«ã‚’ã¤ãªãå¤‰ãˆã‚‹å¿…è¦ãŒãªã„ã®ã§çµ‚äº†
        puts 0
        return
    end
    set = Set.new(uf.parents) # è¦ªã®ç¨®é¡ã‚’Setã«ä¿å­˜
    operate = []
    spare.each do |i|
        parent = uf.get_parent(i[1] - 1)
        set.each do |j| # ç•°ãªã‚‹è¦ªã‚’æ¢ã™
            unless uf.get_parent(j) == parent # ç•°ãªã‚‹è¦ªã®å ´åˆã¯é€£çµã—Setã‹ã‚‰è©²å½“ã®è¦ªã‚’å‰Šé™¤ã—æ¬¡ã®ã‚±ãƒ¼ãƒ–ãƒ«ã¸
                operate << [i[0], i[1], j + 1]
                uf.unite(i[1] - 1, j)
                set.delete(j)
                break
            end
        end
        break if set.size == 1 # å…¨ã¦ã®è¦ªãŒåŒã˜å ´åˆã¯ã‚±ãƒ¼ãƒ–ãƒ«ã‚’ã¤ãªãå¤‰ãˆã‚‹å¿…è¦ãŒãªã„ã®ã§çµ‚äº†
    end
    # è¡Œã£ãŸç¹‹ãå¤‰ãˆã®æ“ä½œã‚’å‡ºåŠ›
    puts operate.size
    operate.each do |i|
        puts i.join(" ")
    end
end
#----------------------------------------------------------------------------------
class UnionFind
    def initialize(size)
        @rank = Array.new(size, 0)
        @parent = Array.new(size, &:itself)
    end

    def unite(id_x, id_y)
        x_parent = get_parent(id_x)
        y_parent = get_parent(id_y)
        return if x_parent == y_parent
        if @rank[x_parent] > @rank[y_parent]
            @parent[y_parent] = x_parent
        else
            @parent[x_parent] = y_parent
            @rank[y_parent] += 1 if @rank[x_parent] == @rank[y_parent]
        end
    end

    def get_parent(id_x)
        @parent[id_x] == id_x ? id_x : (@parent[id_x] = get_parent(@parent[id_x]))
    end

    def same_parent?(id_x, id_y)
        get_parent(id_x) == get_parent(id_y)
    end

    def size
        @parent.map { |id_x| get_parent(id_x) }.uniq.size
    end

    def parents
        @parent.map { |id_x| get_parent(id_x) }.uniq
    end
end
main
```